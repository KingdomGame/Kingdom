Государство
===========

[![Build Status](https://travis-ci.org/MagicGreenHat/Kingdom.svg?branch=master)](https://travis-ci.org/MagicGreenHat/Kingdom) [![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/MagicGreenHat/Kingdom/badges/quality-score.png?b=master)](https://scrutinizer-ci.com/g/MagicGreenHat/Kingdom/?branch=master)

"Государство" это мир браузерной игры открытый для исследований и приключений, сражений и завоеваний, ремесла и производства, свободной экономики и рынков, общения и дипломатии, управления городами и армиями. Захвати власть в Государстве!

* Работающий прототип: http://gosudarstvo.ml
* Обсуждение: https://gitter.im/Rottenwood/kingdom
* Доска задач: https://github.com/MagicGreenHat/Kingdom/issues
* Исходный код последнего релиза: https://github.com/MagicGreenHat/Kingdom/releases/latest

Особенности
-----------
* Большой мир для исследований и поиска новых земель, куда не ступала нога другого игрока.
* Средневековая городская жизнь или путешествие по дальним краям в поисках квестов.
* Все предметы и постройки в игре могут быть произведены игроками.
* Выбор пути развития: возможности игрока определяются одетыми на него вещами.
* Свободный рынок, цены на котором определяются игроками.
* Свирепые монстры, охраняющие ценные ресурсы.
* Политическая жизнь - возможность управлять городом, или целым регионом.
* Войны с другими городами и феодами.

Установка
---------
0. Установить Docker:
    * Для linux: `curl -sSL https://get.docker.com/ | sh`
    * Для [MacOS](https://www.docker.com/toolbox)
    * Для Windows рекомендуется использовать виртуальную машину с linux
0. Скачать этот репозиторий: `git clone https://github.com/MagicGreenHat/Kingdom.git`
0. Перейти в директорию с проектом `cd Kingdom`
0. Запустить скрипт установки: `./kingdom.sh start dev`
0. Тестовый персонаж с вещами будет создан автоматически. Логин/Пароль: test/test

Установка под Windows (версия для разработки)
---------------------------------------------
0. Установить Vagrant: https://www.vagrantup.com/downloads.html
0. `vagrant plugin install vagrant-triggers`
0. Из директории проекта выполнить `vagrant up`
    * Для загрузки необходимо время.
0. После загрузки игра будет доступна на 8000 порту (http://localhost:8000)
0. Серверная консоль доступна внутри виртуальной машины, подключиться к которой можно командой `vagrant ssh`. Затем, внутри виртуальной машины нужно переместиться в директорию с игрой `cd /kingdom` где затем можно вызвать консоль `./kingdom.sh`
0. Если сервер не может подключиться к базе данных, необходимо выполнить внутри виртуальной машины команду `/kingdom/kingdom.sh drop-database` и заново перезапустить образ.

Совместная работа над проектом
------------------------------
* Если вы хотите присоединиться к разработке, взгляните на [доску задач и идей](https://github.com/MagicGreenHat/Kingdom/issues).
* Выберите интересную задачу, или предложите свою идею. Участвуйте в обсуждениях в комментариях к задачам.
* При работе над кодом, создайте форк репозитория через интерфейс гитхаба, и новую ветку командой `git checkout -b название-ветки`, руководствуясь правилами именования, указанными ниже.
* Отметьте на доске то что вы начали заниматься задачей, чтобы ее не начал делать кто-то другой
* Со структурой проекта и принципами его функционирования можно познакомиться в разделе технической документации.
* После того как работа в ветке будет завершена, создайте [Pull Request](https://help.github.com/articles/using-pull-requests/) в гитхабе и сообщите о своих успехах в комментариях к своей задаче на доске.

Техническая документация
------------------------

Используемые технологии, ход работы приложения и структура директорий описаны в [технической документации](https://github.com/MagicGreenHat/Kingdom/blob/master/app/documents/TechnicalDocumentation.md).

Дизайн документ (наброски)
--------------------------

[Сырой вариант, требующий переработки](https://github.com/MagicGreenHat/Kingdom/blob/master/app/documents/Project.md)

Именование веток
----------------
* **t-НОМЕР\_ЗАДАЧИ-короткое\_описание\_новой\_функции** - для нового функционала
* **fix-НОМЕР\_ЗАДАЧИ\_ЕСЛИ\_ЕСТЬ-короткое\_описание\_исправляемой\_ошибки** - для багфикса

Номера задач можно посмотреть на доске: https://github.com/MagicGreenHat/Kingdom/issues
